<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Axios</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
        <button>CLICK</button>

      <section id="comments"></section>


    <script>
        var btn = document.querySelector("button");
        var section = document.querySelector("#comments");
        btn.addEventListener("click", sendRequest);

        function sendRequest(){
        axios.get("https://jsonplaaskjldceholder.typicode.com/comments", {
                params: {
                postId: 1
            }
        })
        .then(addComments)
        .catch(handleErrors)
        }

        function addComments(res){
        res.data.forEach(function(comment){
            appendComment(comment);
        });
        }

        function appendComment (comment){
        var newP = document.createElement("p");
        newP.innerText = comment.email;
        section.appendChild(newP);
        }

        function handleErrors(err) {
            if (err.response) { // request went the server do not know how to handle request
            console.log("Problem With Response ", err.response.status);
            } else if (err.request) { // url internet
            console.log("Problem With Request!");
            } else {
            console.log('Error', err.message);
            }
        }


    
    </script>



</body>
</html>